//This is a test class to verify PreventAccountFromDeleting Code Coverage
//This delares that this method is a test
@isTest
public class TestPreventAccountFromDeleting {
    public static testMethod void testBeforeDelete(){
        //This tests the profileID portion of the code
        String profileId = UserInfo.getProfileId();
        String profileName=[Select Id, Name from Profile WHERE Id=:profileId].Name;
        //This temporarily creates a test user with a profile not equal to System Admin 
        String uniqueUserName = 'standarduser' + DateTime.now().getTime() + '@testorg.com';
        Profile p = [SELECT Id FROM Profile WHERE Name='Bosma Standard User Profile'];
        User u = new User(Alias = 'standt', Email='standarduser@testorg.com',
        EmailEncodingKey='UTF-8', LastName='Testing', LanguageLocaleKey='en_US',
        LocaleSidKey='en_US', ProfileId = p.Id,
        TimeZoneSidKey='America/Los_Angeles',
         UserName=uniqueUserName);
        //This tells the code to run as the user we just created
        System.runAs(u){
        //This creates an account    
    	account acc = new account();
        acc.name = 'test';
        insert acc; 
        //This deletes the account just created.  
		//If the code is succesful, it will fail, but coverage should be 100%          
        delete acc;       
          }          
         }
        }
