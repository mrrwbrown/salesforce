//This trigger is set to prevent record delete on Accounts unless it is done via merge.

trigger preventDeleteAccounts on Account (after delete) {
    
//This pulls and selects the role System Admin so that only System Admins can do a normal delete       
Profile p = [SELECT Id FROM Profile WHERE Name = 'System Administrator'];
    for(Account record: Trigger.old) {
        
        //This says if a user is not a System Admin, and there is no MasterRecord involved, prevent deletion.
        if(p.Id != UserInfo.getProfileId() && record.MasterRecordId == null) {
            record.addError('You do not have permission to delete Accounts.');
        }
    }
}
